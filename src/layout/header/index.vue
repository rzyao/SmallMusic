<template>
  <div class="header-box" style="-webkit-app-region: drag">
    <div class="logo" onselectstart="return false;" @click="showrouter">Small Music</div>
    <div class="left-box no-drag">
      <div class="left-circle">
        <div class="arrow-left no-drag cursor-pointer" @click="back" v-if="!routeStore.isFirst">
          <svg
            t="1671039716551"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="3392"
            width="16"
            height="16"
          >
            <path
              d="M377.052007 512l386.3073-388.203486L705.12909 65.290005 318.845327 453.493491l-58.20668 58.506509 58.20668 58.505485 386.283764 388.203486 58.230216-58.506509L377.052007 512zM377.052007 512"
              fill="#ffffff"
              p-id="3393"
            ></path>
          </svg>
        </div>
        <div class="arrow-left no-drag cursor-pointer" v-if="routeStore.isFirst">
          <svg
            t="1671039716551"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="3392"
            width="16"
            height="16"
          >
            <path
              d="M377.052007 512l386.3073-388.203486L705.12909 65.290005 318.845327 453.493491l-58.20668 58.506509 58.20668 58.505485 386.283764 388.203486 58.230216-58.506509L377.052007 512zM377.052007 512"
              fill="#e1b2b2"
              p-id="3393"
            ></path>
          </svg>
        </div>
      </div>
      <div class="right-circle">
        <div class="arrow-right no-drag cursor-pointer" @click="next" v-if="!routeStore.isLast">
          <svg
            t="1671039618801"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2893"
            width="16"
            height="16"
          >
            <path
              d="M260.638647 900.202463l58.230216 58.506509L705.15365 570.505485l58.20668-58.505485-58.20668-58.506509L318.868863 65.290005l-58.230216 58.505485 386.3073 388.203486L260.638647 900.202463zM646.945947 512"
              fill="#ffffff"
              p-id="2894"
            ></path>
          </svg>
        </div>
        <div class="arrow-right no-drag cursor-pointer" v-if="routeStore.isLast">
          <svg
            t="1671039618801"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2893"
            width="16"
            height="16"
          >
            <path
              d="M260.638647 900.202463l58.230216 58.506509L705.15365 570.505485l58.20668-58.505485-58.20668-58.506509L318.868863 65.290005l-58.230216 58.505485 386.3073 388.203486L260.638647 900.202463zM646.945947 512"
              fill="#e1b2b2"
              p-id="2894"
            ></path>
          </svg>
        </div>
      </div>
      <div class="serch-box">
        <a-input-search
          class="serch"
          v-model:value="serchText"
          placeholder="找首歌来听"
          style="width: 300px"
          @search="onSearch"
        />
      </div>
    </div>
    <div class="right-box no-drag">
      <div class="change-color">
        <svg
          t="1669608456194"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2329"
          width="40"
          height="40"
        >
          <path
            d="M720.58 871.073H299.1c-17.673 0-32-14.327-32-32v-290.03a31.999 31.999 0 0 1-32.578-7.785L110.928 417.664c-12.497-12.497-12.497-32.758 0-45.255l214.375-214.375c12.497-12.497 32.758-12.497 45.255 0s12.497 32.758 0 45.255L178.81 395.037l78.338 78.338 19.324-19.324a31.995 31.995 0 0 1 34.873-6.937 31.999 31.999 0 0 1 19.754 29.564v330.395h357.48V469.279a32 32 0 0 1 54.627-22.627l25.724 25.723 78.338-78.338-191.747-191.748c-12.497-12.497-12.497-32.758 0-45.255 12.496-12.497 32.758-12.497 45.254 0l214.376 214.375c12.496 12.497 12.496 32.758 0 45.255L791.559 540.257a32 32 0 0 1-38.979 4.881v293.936c0 17.672-14.327 31.999-32 31.999z"
            fill="#ffffff"
            p-id="2330"
          ></path>
          <path
            d="M513.408 314.783c-86.482 0.003-146.146-70.811-171.805-101.261-0.832-0.987-1.726-2.048-2.598-3.077-10.606-5.211-17.907-16.122-17.907-28.737 0-14.338 8.456-26.69 21.542-31.469 7.734-2.825 23.01-5.133 38.415 11.137 2.724 2.877 5.71 6.42 9.49 10.906 21.549 25.575 66.15 78.5 122.932 78.5 0.616 0 1.226-0.006 1.845-0.019 41.359-0.836 84.754-30.165 128.977-87.171 10.833-13.964 30.936-16.501 44.898-5.67 13.964 10.833 16.502 30.935 5.67 44.898-56.649 73.025-116.622 110.684-178.252 111.929-1.071 0.023-2.143 0.034-3.207 0.034zM385.099 181.708v0z"
            fill="#ffffff"
            p-id="2331"
          ></path>
        </svg>
      </div>
      <div class="setting">
        <svg
          t="1669608273837"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="1776"
          width="40"
          height="40"
        >
          <path
            d="M256 755.2l55.466667-17.066667 17.066666 12.8c21.333333 12.8 38.4 25.6 64 38.4l21.333334 8.533334 8.533333 55.466666h145.066667l12.8-55.466666 21.333333-8.533334c21.333333-8.533333 42.666667-21.333333 64-38.4l17.066667-12.8 55.466666 17.066667 72.533334-128-42.666667-38.4 4.266667-21.333333c0-12.8 4.266667-25.6 4.266666-38.4s0-25.6-4.266666-38.4l-4.266667-17.066667 42.666667-38.4-72.533334-128-55.466666 21.333333-17.066667-12.8c-21.333333-12.8-38.4-25.6-64-38.4l-21.333333-8.533333-12.8-55.466667H422.4l-12.8 55.466667-21.333333 8.533333c-21.333333 8.533333-42.666667 21.333333-59.733334 34.133334l-21.333333 17.066666L256 311.466667l-72.533333 128 42.666666 38.4-4.266666 21.333333c0 12.8-4.266667 25.6-4.266667 38.4s0 25.6 4.266667 38.4l4.266666 21.333333-42.666666 38.4L256 755.2z m-76.8-179.2c0-12.8-4.266667-25.6-4.266667-42.666667s0-29.866667 4.266667-42.666666L128 443.733333l106.666667-183.466666 64 21.333333c21.333333-17.066667 46.933333-29.866667 72.533333-42.666667L388.266667 170.666667h213.333333l17.066667 68.266666c25.6 12.8 51.2 25.6 72.533333 42.666667l64-21.333333 106.666667 183.466666-51.2 46.933334c0 12.8 4.266667 25.6 4.266666 42.666666s0 29.866667-4.266666 42.666667l51.2 46.933333-106.666667 183.466667-64-21.333333c-21.333333 17.066667-46.933333 29.866667-72.533333 42.666666l-17.066667 68.266667h-213.333333l-17.066667-68.266667c-25.6-12.8-51.2-25.6-72.533333-42.666666l-64 21.333333L128 622.933333l51.2-46.933333z m315.733333 64c59.733333 0 106.666667-46.933333 106.666667-106.666667S554.666667 426.666667 494.933333 426.666667s-106.666667 46.933333-106.666666 106.666666 46.933333 106.666667 106.666666 106.666667z m0 42.666667c-81.066667 0-149.333333-68.266667-149.333333-149.333334S413.866667 384 494.933333 384s149.333333 68.266667 149.333334 149.333333-68.266667 149.333333-149.333334 149.333334z"
            fill="#ffffff"
            p-id="1777"
          ></path>
        </svg>
      </div>
      <div class="vertical-line">
        <svg
          t="1669607798400"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5487"
          width="40"
          height="40"
        >
          <path
            d="M531.185456 943.532317c0 8.899694-6.493901 16.114003-14.503319 16.114003l-9.364275 0c-8.010441 0-14.504342-7.214309-14.504342-16.114003L492.81352 80.46666c0-8.898671 6.493901-16.114003 14.504342-16.114003l9.364275 0c8.009418 0 14.503319 7.215332 14.503319 16.114003L531.185456 943.532317z"
            p-id="5488"
            fill="#ffffff"
          ></path>
        </svg>
      </div>
      <div class="minimize cursor-pointer" @click="minmize">
        <svg
          t="1669606706395"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="4269"
          width="40"
          height="40"
        >
          <path
            d="M917.333333 554.666667H106.666667a21.333333 21.333333 0 0 1 0-42.666667h810.666666a21.333333 21.333333 0 0 1 0 42.666667z"
            fill="#ffffff"
            p-id="4270"
          ></path>
        </svg>
      </div>
      <div class="maximize cursor-pointer" @click="maxmize">
        <svg
          t="1669606907734"
          class="icon"
          viewBox="0 0 1157 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5091"
          width="40"
          height="40"
        >
          <path
            d="M1086.033752 753.710082 878.220684 753.710082 878.220684 951.774989 878.220684 1021.784509 878.220684 1023.113804 808.211164 1023.113804 808.211164 1021.784509 70.895716 1021.784509 70.895716 1023.113804 0.886196 1023.113804 0.886196 1021.784509 0.886196 951.774989 0.886196 339.413241 0.886196 269.403721 70.895716 269.403721 269.403721 269.403721 269.403721 0.886196 274.277802 0.886196 339.413241 0.886196 1086.033752 0.886196 1151.612289 0.886196 1156.043271 0.886196 1156.043271 683.700563 1156.043271 753.710082 1086.033752 753.710082ZM70.895716 951.774989 808.211164 951.774989 808.211164 753.710082 808.211164 683.700563 808.211164 339.413241 70.895716 339.413241 70.895716 951.774989ZM1086.033752 70.895716 339.413241 70.895716 339.413241 269.403721 808.211164 269.403721 878.220684 269.403721 878.220684 339.413241 878.220684 683.700563 1086.033752 683.700563 1086.033752 70.895716Z"
            p-id="5092"
            fill="#ffffff"
          ></path>
        </svg>
      </div>
      <div class="close cursor-pointer" @click="close">
        <svg
          t="1669606428681"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2668"
          width="40"
          height="40"
        >
          <path
            d="M525.269211 510.837524 918.101111 116.227118c7.17747-7.209192 7.14984-18.871813-0.059352-26.049283-7.210215-7.176446-18.87079-7.151887-26.049283 0.059352L499.278257 484.72889 106.563014 90.236164c-7.17747-7.209192-18.84009-7.235798-26.049283-0.059352-7.209192 7.17747-7.235798 18.84009-0.059352 26.049283L473.287303 510.837524 80.45438 905.446907c-7.176446 7.209192-7.150864 18.871813 0.059352 26.049283 3.593851 3.577478 8.29492 5.365194 12.994965 5.365194 4.727675 0 9.455349-1.809205 13.054317-5.424546l392.715243-394.491703 392.715243 394.491703c3.599991 3.615341 8.326643 5.424546 13.054317 5.424546 4.700045 0 9.402137-1.787716 12.994965-5.365194 7.209192-7.17747 7.235798-18.84009 0.059352-26.049283L525.269211 510.837524z"
            p-id="2669"
            fill="#ffffff"
          ></path>
        </svg>
      </div>
    </div>
  </div>
</template>
<script lang="ts">
import { ref } from 'vue';
import router from '@/router';
import { useRouteStore } from '@/stores/routeStore';
export default {
  name: 'LayoutHeader',
  components: {},
  setup() {
    const routeStore = useRouteStore();
    const serchText = ref('');
    const onSearch = (): void => {
      console.log('onserch');
    };
    function close() {
      console.log('click close');
      window.electronApi.send('close');
    }
    function minmize() {
      window.electronApi.send('window-min');
    }
    function maxmize() {
      window.electronApi.send('window-max');
    }
    function showrouter() {
      //获取历史记录
      console.log(
        routeStore.isLast,
        routeStore.isFirst,
        routeStore.historyRoute,
        routeStore.currtIndex
      );
    }
    function back() {
      routeStore.designRouteGo('back');
      const obj = JSON.parse(JSON.stringify(routeStore.historyRoute[routeStore.currtIndex - 1]));
      console.log(obj);
      router.push(obj);
    }
    function next() {
      routeStore.designRouteGo('next');
      const obj = JSON.parse(JSON.stringify(routeStore.historyRoute[routeStore.currtIndex + 1]));
      console.log(obj);
      router.push(obj);
    }
    return {
      serchText,
      onSearch,
      close,
      minmize,
      maxmize,
      showrouter,
      routeStore,
      back,
      next,
    };
  },
};
</script>
<style lang="less" scoped>
@import '@/layout/header/header.less';
</style>
